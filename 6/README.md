Makefile представляет собой набор правил запуска задач с возможностью автоматической проверки зависимостей.

```Makefile
target: dependency1 dependency2
    todo1
    todo2
    ...

dependency1:
    echo "Dependency 1 does not depend on any other target"

dependency2: dependency3

dependency3:
    echo "Dependency 3"
```

- `.PHONY` - имена исполняемых целей (не файлов)
- `target` - цель. Либо название файла (например, `main.o`), либо название задачи (например, `build`)
- dependency - список подцелей, которые должны быть выполнены перед выполнением основной цели

Использование файлов в качестве целей позволяет реализовать инкрементальную сборку, т.е. пересборку только той части проекта, код в которой менялся.

Общие правила выполнения make-целей следующие:
- если цель - .PHONY (не файл), то код выполняется ВНЕ зависимости от выполнения зависимостей
- если цель - файл, то
1) если все зависимости - файлы или .PHONY без тела, и цель существует - up-to-date
2) если все зависимости - файлы или .PHONY без тела, и цель НЕ существует - выполняется тело
3) если цель существует, но хотя бы одна зависимость изменилась/выполнилась (это важно - может, ничего не поменялось, но выполнилась PHONY из п.1), при этом цель изменена РАНЬШЕ зависимостей - код выполняется

